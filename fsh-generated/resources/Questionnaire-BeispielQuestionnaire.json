{
  "resourceType": "Questionnaire",
  "id": "BeispielQuestionnaire",
  "url": "http://example.org/fhir/Questionnaire/BeispielQuestionnaire",
  "version": "0.1",
  "title": "Formularname XYZ",
  "status": "draft",
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext",
      "extension": [
        {
          "url": "name",
          "valueCoding": {
            "code": "patient",
            "system": "http://hl7.org/fhir/uv/sdc/CodeSystem/launchContext"
          }
        },
        {
          "url": "type",
          "valueCode": "Patient"
        },
        {
          "url": "description",
          "valueString": "Patientenkontext"
        }
      ]
    }
  ],
  "item": [
    {
      "linkId": "demografie",
      "text": "Demografische Daten:",
      "type": "group",
      "item": [
        {
          "linkId": "vorname",
          "type": "string",
          "text": "Vorname:",
          "required": true,
          "repeats": true,
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "%patient.name[0].given[0]",
                "description": "Erster Vorname des ersten Namens des Patienten."
              }
            }
          ]
        },
        {
          "linkId": "nachname",
          "type": "string",
          "text": "Nachname:",
          "required": true,
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "%patient.name[0].family",
                "description": "Nachname des ersten Namens des Patienten."
              }
            }
          ]
        }
      ]
    },
    {
      "linkId": "koerpermasse",
      "text": "Körpermaße:",
      "type": "group",
      "item": [
        {
          "linkId": "koerpergroesse",
          "type": "decimal",
          "text": "Körpergröße:",
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
              "valueCoding": {
                "code": "m",
                "system": "http://unitsofmeasure.org"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces",
              "valueInteger": 2
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
              "valueDecimal": 2.7
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/minValue",
              "valueDecimal": 0.1
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/entryFormat",
              "valueString": "x.xx"
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
              "valueBoolean": true
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
              "valueDuration": {
                "value": 1,
                "code": "w",
                "system": "http://unitsofmeasure.org"
              }
            }
          ],
          "code": [
            {
              "code": "8302-2",
              "system": "http://loinc.org",
              "display": "Body Height"
            }
          ],
          "item": [
            {
              "linkId": "gewicht-plausi",
              "type": "display",
              "text": "Sind Sie sicher?",
              "enableWhen": [
                {
                  "question": "koerpergroesse",
                  "operator": ">",
                  "answerDecimal": 2.1
                },
                {
                  "question": "koerpergroesse",
                  "operator": "<",
                  "answerDecimal": 1.3
                }
              ],
              "enableBehavior": "any"
            },
            {
              "linkId": "koerpergroesse-hilfe",
              "type": "display",
              "text": "Bitte geben Sie die Körpergröße in Metern an.",
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "code": "help",
                        "system": "http://hl7.org/fhir/questionnaire-item-control"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "linkId": "koerpergewicht",
          "type": "decimal",
          "text": "Körpergewicht:",
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
              "valueCoding": {
                "code": "kg",
                "system": "http://unitsofmeasure.org"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces",
              "valueInteger": 3
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
              "valueDecimal": 600
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/minValue",
              "valueDecimal": 0.1
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/entryFormat",
              "valueString": "xxx.xx"
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
              "valueBoolean": true
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
              "valueDuration": {
                "value": 1,
                "code": "w",
                "system": "http://unitsofmeasure.org"
              }
            }
          ],
          "code": [
            {
              "code": "29463-7",
              "system": "http://loinc.org",
              "display": "Body Weight"
            }
          ]
        }
      ]
    }
  ]
}
